.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.13
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "EDG-MKGRIDMAP.CONF 5"
.TH EDG-MKGRIDMAP.CONF 5 "2011-04-03" " " " "
.SH "NAME"
edg\-mkgridmap.conf \- edg\-mkgridmap configuration file
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fIedg\-mkgridmap.conf\fR file contains configuration informations for
\&\fBedg-mkgridmap\fR.
.PP
The default location is \fI/etc/edg\-mkgridmap.conf\fR.
.PP
The \fIedg\-mkgridmap.conf\fR file is a free-form \s-1ASCII\s0 text file. It is
parsed by the descent parser built into \fBedg-mkgridmap\fR. The file may
contain extra tabs and white spaces for formatting purposes. Keywords in
the file are case\-insensitive. Comments may be placed anywhere within the
file (except within quotes). Comments begin with the # character and end
at the end of the line.
.PP
The file essentially consists of a list of directives composed by a
keyword and one or more arguments. Optional arguments are put in square
brackets.
.IP "* \fBgroup\fR \fI\s-1URI\s0\fR \fI[lcluser]\fR" 4
.IX Item "group URI [lcluser]"
.PD 0
.IP "* \fBdefault_lcluser\fR \fIdefault_lcluser\fR" 4
.IX Item "default_lcluser default_lcluser"
.IP "* \fBauth\fR \fI\s-1URI\s0\fR" 4
.IX Item "auth URI"
.IP "* \fBallow\fR|\fBdeny\fR \fIpattern_to_match\fR" 4
.IX Item "allow|deny pattern_to_match"
.IP "* \fBgmf_local\fR \fIgrid-mapfile-local\fR" 4
.IX Item "gmf_local grid-mapfile-local"
.PD
.SH "EXAMPLE"
.IX Header "EXAMPLE"
.Vb 9
\&  #### GROUP: group URI [lcluser]
\&  group ldaps://grid-vo.infn.it/ou=testbed1,o=infn,c=it .infngrid
\&  group ldaps://grid-vo.infn.it/ou=testbed2,o=infn,c=it
\&  group ldaps://grid-vo.infn.it/ou=testbed3,o=infn,c=it AUTO
\&  group https://grid-vo.infn.it/infngrid/testbed1 .infngrid
\&  group https://grid-vo.infn.it/infngrid/testbed2
\&  group https://grid-vo.infn.it/infngrid/testbed3 AUTO
\&  group vomss://voms.hellasgrid.gr:8443/voms/dteam?/dteam/Role=lcgadmin dteamsgm
\&  group vomss://voms.hellasgrid.gr:8443/voms/dteam?/dteam .dteam
.Ve
.PP
.Vb 2
\&  #### DEFAULT_LCLUSER: default_lcluser lcluser
\&  default_lcluser .infngrid
.Ve
.PP
.Vb 2
\&  #### AUTH: auth URI
\&  auth ldaps://grid-auth.infn.it/ou=People,o=infn,c=it
.Ve
.PP
.Vb 3
\&  #### ALLOW and DENY: deny|allow pattern_to_match
\&  deny *L=Parma*
\&  allow *INFN*
.Ve
.PP
.Vb 4
\&  #### GMF_LOCAL: gmf_local grid-mapfile-local
\&  gmf_local /etc/grid-mapfile-local1
\&  gmf_local /etc/grid-mapfile-local2
\&  gmf_local /etc/grid-mapfile-local3
.Ve
.SH "REFERENCE: GROUP"
.IX Header "REFERENCE: GROUP"
The \fIgroup\fR \fBdirective\fR
.PP
\&\fBgroup\fR \fI\s-1URI\s0\fR \fI[lcluser]\fR
.PP
A \fBgroup\fR directive defines a group of people which are members of a \s-1VO\s0.
\&\fIlcluser\fR, if specified, is the local user name associated to each member
of the group. If \fIlcluser\fR is not specified, the default local user is
implicitly used. If someone belongs to more than one group, the first
match is used.
.PP
The \fI\s-1URI\s0\fR may be of these types:
.PP
ldap[s]://<host>[:<port>]/<group>[??<scope>?<filter>]
.PP
http[s]://<host>[:<port>]/<group>
.PP
voms[s]://<host>[:<port>]/edg\-voms\-admin/<vo>[?<group>[/Role=<role>]]
.PP
For ldap \s-1URI\s0 the default scope is base and the default filter is
(objectClass=*).
.PP
For voms/vomss \s-1URI\s0 the default port is the same of http/https \s-1URI\s0.
.PP
Specify \fI\s-1AUTO\s0\fR as \fIlcluser\fR or \fIdefault_lcluser\fR for automatic
generation of local usernames. In this case the executable
\&\fIlocal\-subject2user\fR is used. \fIlocal\-subject2user\fR is called with the user
certificate subject as argument and writes to the standard output the
local username associated with the user certificate subject. This allows
local sites to customize the output of \fBedg-mkgridmap\fR.
.PP
Specify \fI.\fR or \fI.[\s-1PREFIX\s0]\fR (eg \fI.cms\fR) as \fIlcluser\fR or
\&\fIdefault_lcluser\fR to enable dynamic allocation of local usernames (Andrew
McNab's gridmapdir patch).
.SH "REFERENCE: DEFAULT_LCLUSER"
.IX Header "REFERENCE: DEFAULT_LCLUSER"
The \fIdefault_lcluser\fR \fBdirective\fR
.PP
\&\fBdefault_lcluser\fR \fIdefault_lcluser\fR
.PP
The \fBdefault_lcluser\fR directive defines the default local user.
.SH "REFERENCE: AUTH"
.IX Header "REFERENCE: AUTH"
The \fIauth\fR \fBdirective\fR
.PP
\&\fBauth\fR \fI\s-1URI\s0\fR
.PP
The \fBauth\fR directive specifies a group of people which are authorized to
access to the local resources. If the certificate subject of a member of a
ldap/ldaps group is not present in this authorized group, it will not be
inserted in the grid\-mapfile. If \fBauth\fR is omitted, this feature is
disabled.
.PP
The \fI\s-1URI\s0\fR may be of these types:
.PP
ldap[s]://<host>[:<port>]/<group>[??<scope>?<filter>]
.PP
The default scope is one and the default filter is (description=subject=*).
.SH "REFERENCE: ALLOW and DENY"
.IX Header "REFERENCE: ALLOW and DENY"
The \fIallow\fR|\fIdeny\fR \fBdirective\fR
.PP
\&\fBallow\fR|\fBdeny\fR \fIpattern_to_match\fR
.PP
\&\fBallow\fR and \fBdeny\fR directives define the access control list. The
pattern to match may contain wildcards; the test is done on the user
certificate subject. Parsing stops at the first match. If there is at
least an allow, there is an implicit \fBdeny\fR \fI*\fR at the end, otherwise
there is an implicit \fBallow\fR \fI*\fR. Parsing is not case sensitive.
.SH "REFERENCE: GMF_LOCAL"
.IX Header "REFERENCE: GMF_LOCAL"
The \fIgmf_local\fR \fBdirective\fR
.PP
\&\fBgmf_local\fR \fIgrid-mapfile-local\fR
.PP
The \fBgmf_local\fR directive specifies a local grid-mapfile useful to add
static entries in the grid\-mapfile.
.SH "FILES"
.IX Header "FILES"
\&\fI/etc/edg\-mkgridmap.conf\fR
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIedg\-mkgridmap\fR\|(8)
.SH "AUTHORS"
.IX Header "AUTHORS"
\&\s-1EU\s0 DataGrid Authorization Working Group,
\&\s-1EGEE\s0 Middleware Security Group, Maarten Litmaath (\s-1CERN/WLCG\s0)
